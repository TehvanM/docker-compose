# Author: TMarjapuu
events { worker_connections 1024; }
http {
    upstream frontend { server frontend:80; }
    upstream api { server api:3000; }
    server {
        listen 80;
        location /api { proxy_pass http://api; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; }
        location /health { proxy_pass http://api/health; }
        location / { proxy_pass http://frontend; proxy_set_header Host $host; }
    }
}
